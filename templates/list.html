{% extends "layout.html" %}


{% block content %}
    
    <div class="search">
        <form action="{{ url_for("search_question") }}" method="post" id="searching-bar">
            <input type="text" name="search" placeholder="Search database..." required minlength="1">
            <button type="submit" form="searching-bar">Search</button>
    
        </form>
    </div>

    <div class="link-box">
        <p><a href="{{ url_for('add_new_question') }}">Ask a question</a></p>
    </div>


    {% if truncated %}
        <div class="link-box">
            <p><a href="{{ url_for('route_list') }}">Show all questions</a></p>
        </div>
    {% endif %}

    <div class="table-container">
        <table>
            <tr>
                <th>
                    Submission Time
                    <a href="{{ url_for('order_questions', column='submission_time', order='DESC') }}">↑</a>
                    <a href="{{ url_for('order_questions', column='submission_time', order='ASC') }}">↓</a>
                </th>
                <th>
                    Question Title
                    <a href="{{ url_for('order_questions', column='title', order='DESC') }}">↑</a>
                    <a href="{{ url_for('order_questions', column='title', order='ASC') }}">↓</a>
                </th>
                <th>
                    View Number
                    <a href="{{ url_for('order_questions', column='view_number', order='DESC') }}">↑</a>
                    <a href="{{ url_for('order_questions', column='view_number', order='ASC') }}">↓</a>
                </th>
                <th>
                    Vote Number
                    <a href="{{ url_for('order_questions', column='vote_number', order='DESC') }}">↑</a>
                    <a href="{{ url_for('order_questions', column='vote_number', order='ASC') }}">↓</a>
                </th>
            </tr>

        {% for question in questions %}
            <tr>

                <td align="center">{{ question["submission_time"] }}</td>
                <td class="question-title"><a href="{{ url_for('get_question_details', question_id = question["id"]) }}">{{ question["title"] }}</a></td>
                <td align="center">{{ question["view_number"] }}</td>
                <td align="center">{{ question["vote_number"] }}</td>
            </tr>
        {% endfor %}

        </table>
    </div>

{% endblock %}
